<ion-header>
  <ion-navbar>
    <button ion-button menuToggle large>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Add/Edit Car Park</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="carParkForm">
    <ion-item>
      <ion-label floating>Car Park Name</ion-label>
      <ion-input required type="text"
                 formControlName="carParkName"></ion-input>
    </ion-item>
    <ion-item class="alert alert-danger" *ngIf="formErrors.carParkName">
      {{ formErrors.carParkName }}
    </ion-item>

    <ion-item>
      <ion-label floating>Car Park Code</ion-label>
      <ion-input required type="text"
                 formControlName="carParkCode"></ion-input>
    </ion-item>
    <ion-item class="alert alert-danger" *ngIf="formErrors.carParkCode">
      {{ formErrors.carParkCode }}
    </ion-item>

    <ion-item (tap)="pickCarParkPicture()">
      <ion-label class="lbl-pick-picture">
        Click to pick a Picture<span class="mandatory">*</span>
      </ion-label>
      <ion-avatar item-right>
        <img *ngIf="carParkToEdit?.picture" [src]="carParkToEdit.picture">
        <ion-spinner *ngIf="isPictureLoading"></ion-spinner>
      </ion-avatar>
    </ion-item>

    <ion-item>
      <ion-select required interface="action-sheet" placeholder="Region" formControlName="region">
        <ion-option value={{regionEnum.central}}>{{regionEnum.central | camelCase}}</ion-option>
        <ion-option value={{regionEnum.east}}>{{regionEnum.east | camelCase}}</ion-option>
        <ion-option value={{regionEnum.north}}>{{regionEnum.north | camelCase}}</ion-option>
        <ion-option value={{regionEnum.northEast}}>{{regionEnum.northEast | camelCase}}</ion-option>
        <ion-option value={{regionEnum.west}}>{{regionEnum.west | camelCase}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label floating>Area</ion-label>
      <ion-input required type="text" formControlName="area"></ion-input>
    </ion-item>
    <ion-item class="alert alert-danger" *ngIf="formErrors.area">
      {{ formErrors.area }}
    </ion-item>

    <ion-item>
      <ion-label floating>Address</ion-label>
      <ion-input required type="text"
                 formControlName="address"></ion-input>
    </ion-item>
    <ion-item class="alert alert-danger" *ngIf="formErrors.address">
      {{ formErrors.address }}
    </ion-item>

  </form>

  <ion-item no-lines class="btns-dialog">
    <button ion-button clear large (tap)="cancel()">
      Cancel
    </button>
    <button ion-button clear large
            [disabled]="carParkForm.invalid"
            (tap)="carParkForm.valid && save()">
      Save
    </button>
  </ion-item>

</ion-content>
