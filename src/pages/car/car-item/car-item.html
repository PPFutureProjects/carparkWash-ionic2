<ion-card>
  <ion-card-header>{{car?.brandModel}} - {{car?.licencePlateNumber}}</ion-card-header>

  <ion-card-content>
    <ion-item>Colour: {{car?.colour}}</ion-item>
    <ion-item>Type: {{car?.type}}</ion-item>
    <ion-item *ngIf="subscription">Current subscription date:</ion-item>
    <ion-item *ngIf="subscription">{{subscription?.dateSubscription | date}}</ion-item>
    <ion-item *ngIf="subscription?.days[dayIndex].washStatus === washStateEnum.toWash">
      Waiting for a cleaner to wash
    </ion-item>
    <ion-item *ngIf="subscription?.days[dayIndex].washStatus === washStateEnum.washed">
      Washed and clean by {{subscription?.days[dayIndex].cleanerName}}
    </ion-item>
    <ion-item *ngIf="subscription?.days[dayIndex].washStatus === washStateEnum.washed">
      on {{subscription?.days[dayIndex].washDate | date:'short'}}
    </ion-item>

    <ion-row class="btn-action-layout" *ngIf="!isSelected">
      <button ion-button clear (tap)="selectToSubscribe()"
              *ngIf="currentUser?.profile === profileTypeEnum.client && !car?.subscription">
        Subscribe for 30 days
      </button>
      <button ion-button clear (tap)="selectToWash()"
              *ngIf="currentUser?.profile === profileTypeEnum.client
              && car?.subscription
              && isUnlocked()
              && subscription?.days[dayIndex].washStatus === washStateEnum.washNotRequested">
        Book to wash
      </button>
      <button ion-button clear (tap)="selectAsWashed()"
              *ngIf="currentUser?.profile === profileTypeEnum.cleaner
                  && subscription?.days[dayIndex].washStatus === washStateEnum.toWash">
        Select as Washed
      </button>
    </ion-row>
    <ion-row *ngIf="!isSelected && currentUser?.profile === profileTypeEnum.client">
      <button ion-button clear color="dark" (tap)="edit(false)">Edit</button>
      <button ion-button clear color="dark" (tap)="remove(false)">Remove</button>
    </ion-row>
  </ion-card-content>

</ion-card>
